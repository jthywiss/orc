<?xml version="1.0" encoding="UTF-8"?>
<!-- ref.data.list.xml - DocBook source for an Orc reference manual section

     $Id$

     Copyright (c) 2010 The University of Texas at Austin. All rights reserved.

     Use and redistribution of this file is governed by the license terms in
     the LICENSE file found in the project's top-level directory and also found at
     URL: http://orc.csres.utexas.edu/license.shtml .
  -->

<section xml:id="ref.data.list">
<title>Lists</title>

<para>
A list consists of a finite sequence of values. 
It may be empty; the empty list is written as <code>[]</code>.
</para>

<section xml:id="ref.data.list.syntax">
  <title>Syntax</title>
  <para>
    <productionset>
    <productionrecap linkend="ebnf.expression.list"/>
    </productionset>
  </para>
</section>

<section xml:id="ref.data.list.constructors">
<title>Constructors</title>

<para>
The list expression <code>[</code> <replaceable>E<subscript>0</subscript></replaceable> <code>,</code> &#x2026; <code>,</code> <replaceable>E<subscript>n</subscript></replaceable> <code>]</code> publishes the list <code>[</code> <replaceable>v<subscript>0</subscript></replaceable> <code>,</code> &#x2026; <code>,</code> <replaceable>v<subscript>n</subscript></replaceable> <code>]</code>
only if each expression <replaceable>E<subscript>i</subscript></replaceable> <link linkend="ref.concepts.deflate">deflates</link> to value <replaceable>v<subscript>i</subscript></replaceable>. 
Otherwise, it <link linkend="ref.concepts.halt">halts</link> <link linkend="ref.concepts.silent">silently</link>.
</para>

</section>

<section xml:id="ref.data.list.operations">
<title>Operations</title>

<para>Notable list operations include:
<itemizedlist>
<listitem><para><code>head(l)</code>, which returns the first element of list <code>l</code>.</para></listitem>
<listitem><para><code>tail(l)</code>, which returns a list with every element in <code>l</code> except the first.</para></listitem>
<listitem><para><code>h:t</code>, a <firstterm>cons</firstterm> operation, which returns a list with first element <code>h</code> and remaining elements <code>t</code>.</para></listitem>
</itemizedlist>
</para>

</section>

<section xml:id="ref.data.list.type">
<title>Type</title>
<para>
The type of a list is <code>List[</code><replaceable>U</replaceable><code>]</code>, where <replaceable>U</replaceable> is the join 
of the types of each of its elements. In particular, if all of the elements 
have the same type <replaceable>T</replaceable>, then the list will have type <code>List[</code><replaceable>T</replaceable><code>]</code>.
</para>
</section>

<section xml:id="ref.data.list.javacalls">
<title>Java calls</title>

<para>Orc lists do not correspond to any Java value, so if a list is passed to Java code, it will be as a <type>java.lang.Object</type> of a type not specified here.</para>

</section>

<section xml:id="ref.data.list.examples">
<title>Examples</title>


<example xml:id="ref.data.list.examples.sample">
<title>Sample Lists</title>
<programlisting language="orc"><![CDATA[
[] -- empty list
[1,2,3] -- a list of integers
[(1,2),(2,3),(3,4)] -- a list of tuples of integers
[fib(1),fib(2),fib(3)] -- the list of first 3 fibonacci numbers
[[1],[2,2],[3,3,3]] -- a list of lists of integers

-- The element type of a list is the join of the types of each of its elements.
-- The following list has type List[Top], because the individual elements
-- have different types, and Top is their only common supertype.
   [[2],3,(5,7),"misra"]

-- The order and number of elements in a list matter. So,
[2,3] {- is not the same as -}  [3,2]
[2] {- is not the same as -}    [2,2]
]]></programlisting>
</example>

<example xml:id="ref.data.list.examples.listops">
<title>List Operations</title>
<programlisting language="orc"><![CDATA[
head([3]) = 3
tail([3]) = []
head([3,2,5]) = 3
tail([3,2,5]) = [2,5]
3:[] = [3]
3:[2,5] = [3,2,5]
[2,3]: [[1],[2,3,4]] = [[2,3],[1],[2,3,4]]
]]></programlisting>
</example>

</section>

<section xml:id="ref.data.list.links">
<title>Related Links</title>

	<informaltable frame="none">
  		<tgroup cols="1" align="left">
    	<thead>
      		<row>
        		<entry align="left">Related Reference Topics</entry>
        	</row>
    	</thead>
    	<tbody valign="top">
     		<row>
        		<entry><itemizedlist>
        			<listitem><para><link linkend="ref.stdlib.list.head"><code>head</code> function</link></para></listitem>
        			<listitem><para><link linkend="ref.stdlib.list.tail"><code>tail</code> function</link></para></listitem>
        			<listitem><para><link linkend="ref.stdlib.list.init"><code>init</code> function</link></para></listitem>
        			<listitem><para><link linkend="ref.stdlib.list.empty"><code>empty</code> function</link></para></listitem>
        			<listitem><para><link linkend="ref.stdlib.list.each"><code>each</code> function</link></para></listitem>
        		</itemizedlist></entry>
        	</row>
    	</tbody>
  		</tgroup>
	  </informaltable>
	  
	  <informaltable frame="none">
  		<tgroup cols="1" align="left">
    	<thead>
      		<row>
        		<entry align="left">Related Tutorial Sections</entry>
        	</row>
    	</thead>
    	<tbody valign="top">
     		<row>
        		<entry><itemizedlist>
          			<listitem><para><olink targetdoc="userguide" targetptr="cor.data">Data Structures</olink></para></listitem>
        		</itemizedlist></entry>
        	</row>
    	</tbody>
  		</tgroup>
	  </informaltable>
</section>

</section>
