<?xml version="1.0" encoding="UTF-8"?>
<!-- ref.concepts.publish.xml - DocBook source for an Orc reference manual section

     $Id$

     Copyright (c) 2011 The University of Texas at Austin. All rights reserved.

     Use and redistribution of this file is governed by the license terms in
     the LICENSE file found in the project's top-level directory and also found at
     URL: http://orc.csres.utexas.edu/license.shtml .
  -->

<!-- Publish Concept -->
<section xml:id="ref.concepts.publish">
	<title>Publication</title>

	<para>
An Orc expression <indexterm significance="preferred"><primary>publish</primary></indexterm><firstterm baseform="publish">publishes</firstterm> a value when the expression produces a value to be used in the context enclosing the expression.
An extremely simple example of publication is a literal, for example the expression <code>1</code>, which publishes a single integer <indexterm><primary>value</primary></indexterm>value.
Orc expressions may publish zero or more values during their execution.
The effect of publication depends on the context.
For example, each publication of <replaceable>F</replaceable> in the sequential combinator expression <replaceable>F</replaceable><code> &gt;x&gt; </code><replaceable>G</replaceable>
causes <replaceable>G</replaceable> to be run with <code>x</code> bound to the published value.
An expression that never publishes is said to be <link linkend="ref.concepts.silent">silent</link>.
	</para>

	<para>
The following is the publication behavior of a few common forms of Orc expressions.  See the relevant manual sections for details.
		<itemizedlist>
			<listitem><para>Site calls publish only zero or one value.</para></listitem>
			<listitem><para>Function calls may publish an unbounded number of values.</para></listitem>
			<listitem><para>Literals, including <code>signal</code>, publish one value.</para></listitem>
			<listitem><para><code>stop</code> never publishes.</para></listitem>
			<listitem><para>A variable, when executed, publishes its value, if bound.
				If not, execution of the variable is suspended until it is bound.</para></listitem>
			<listitem><para>Each of the Orc combinators has a unique publication behavior.</para></listitem>
		</itemizedlist>
	</para>

	<section xml:id="ref.concepts.publish.examples">
		<title>Examples</title>

		<example xml:id="ref.concepts.publish.examples.pub2">
<title>Publish two values</title>
<programlisting language="orc-demo"><![CDATA[
1 | 2
{-
OUTPUT:PERMUTABLE
1
2
-}
]]></programlisting>
</example>

		<example xml:id="ref.concepts.publish.examples.pub2seq">
<title>Publish two values in a sequential combinator</title>
<programlisting language="orc-demo"><![CDATA[
(1 | 2) >x> x + 30
{-
OUTPUT:PERMUTABLE
31
32
-}
]]></programlisting>
</example>

		<example xml:id="ref.concepts.publish.examples.pub0">
<title>Publish no values (silent expression)</title>
<programlisting language="orc-demo"><![CDATA[
(1 | 2) >> stop
{-
OUTPUT:
-}
]]></programlisting>
</example>

	</section>

	<section xml:id="ref.concepts.publish.links">
		<title>Related Links</title>

		<informaltable frame="none">
			<tgroup cols="1" align="left">
				<thead>
					<row>
						<entry align="left">Related Reference Topics</entry>
					</row>
				</thead>
				<tbody valign="top">
					<row>
						<entry>
							<itemizedlist>
								<listitem><para><link linkend="ref.combinators">Combinators</link></para></listitem>
								<listitem><para><link linkend="ref.expressions.call.site">Site call</link></para></listitem>
								<listitem><para><link linkend="ref.expressions.call.function">Function call</link></para></listitem>
								<listitem><para><link linkend="ref.expressions.stop"><code>stop</code></link></para></listitem>
								<listitem><para><link linkend="ref.concepts.silent">Silent</link></para></listitem>
							</itemizedlist>
						</entry>
					</row>
				</tbody>
			</tgroup>
		</informaltable>

		<informaltable frame="none">
			<tgroup cols="1" align="left">
				<thead>
					<row>
						<entry align="left">Related Tutorial Sections</entry>
					</row>
				</thead>
				<tbody valign="top">
					<row>
						<entry>
							<itemizedlist>
								<listitem><para><olink targetdoc="userguide" targetptr="orc">Orc expressions</olink></para></listitem>
								<listitem><para><olink targetdoc="userguide" targetptr="combinators">Combinators</olink></para></listitem>
								<listitem><para><olink targetdoc="userguide" targetptr="expression.nesting">Nesting expressions</olink></para></listitem>
								<listitem><para><olink targetdoc="userguide" targetptr="orc.sites.calling">Calling a site</olink></para></listitem>
							</itemizedlist>
						</entry>
					</row>
				</tbody>
			</tgroup>
		</informaltable>

	</section>
</section>
