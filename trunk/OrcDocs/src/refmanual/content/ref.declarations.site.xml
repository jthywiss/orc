<?xml version="1.0" encoding="UTF-8"?>
<!-- ref.declarations.site.xml - DocBook source for an Orc reference manual section

     $Id$

     Copyright (c) 2011 The University of Texas at Austin. All rights reserved.

     Use and redistribution of this file is governed by the license terms in
     the LICENSE file found in the project's top-level directory and also found at
     URL: http://orc.csres.utexas.edu/license.shtml .
  -->

<!-- Site -->
	<section xml:id="ref.declarations.site">
		<title><code>site</code> &#8212; Import Site</title>
		<section xml:id="ref.declarations.site.body">
			<para>
A <code>site</code> declaration makes some service available as a site and
binds it to a variable. The service might be an object in the host language 
(e.g. a class instance in Scala or Java), or an external service on the web which is accessed 
through some protocol like SOAP or REST, or even a primitive operation like addition.
			</para>
			<para>
Consider an example that instantiates a Java object to be used as a site in an Orc program, specifically
a Java object which provides an asynchronous buffer service. The declaration uses a
fully qualified Java class name to find and load a class, and creates an instance of that
class to provide the service. 
			</para>
		</section>
		
		<section xml:id="ref.declarations.site.syntax">
	  <title>Syntax</title>
	  <para>
	    <productionset>
	    	<productionrecap linkend="ebnf.declaration.site"/>
	    </productionset>
	  </para>
  </section>
		
		<section xml:id="ref.declarations.site.examples">
		<title>Examples</title>
		
		<example xml:id="ref.declarations.site.examples.sitedecl"><title>Site Declaration</title>
<programlisting language="orc-demo"><![CDATA[
{-  
Define the Buffer site by instantiating a Java object,
specifically an object that provides an asynchronous 
buffer service.
-}

site Buffer = orc.lib.state.Buffer

{- The object can now be used as a site in an Orc program -}
val b = Buffer()
b.put(10) >> b.get()

{-
OUTPUT:
10
-}
]]></programlisting> 
		  </example>

<para>
See the <link linkend="ref.stdlib">Standard Library</link> chapter 
for more information on the Buffer site
and its available methods.
</para>

		</section>
		
		<section xml:id="ref.declarations.site.links">
		  <title>Related Links</title>
		  
		  <informaltable frame="none">
	  		<tgroup cols="1" align="left">
	    	<thead>
	      		<row>
	        		<entry align="left">Related Reference Topics</entry>
	        	</row>
	    	</thead>
	    	<tbody valign="top">
	     		<row>
	        		<entry><itemizedlist>
	          			<listitem><para><link linkend="ref.stdlib">Standard Library</link></para></listitem>
	        		</itemizedlist></entry>
	        	</row>
	    	</tbody>
	  		</tgroup>
		  </informaltable>
		  
		  <informaltable frame="none">
	  		<tgroup cols="1" align="left">
	    	<thead>
	      		<row>
	        		<entry align="left">Related Tutorial Sections</entry>
	        	</row>
	    	</thead>
	    	<tbody valign="top">
	     		<row>
	        		<entry><itemizedlist>
          				<listitem><para><olink targetdoc="userguide" targetptr="chapter.services">Accessing External Services</olink></para></listitem>
        			</itemizedlist></entry>
	        	</row>
	    	</tbody>
	  		</tgroup>
		  </informaltable>
		  
	  </section>
	</section>

