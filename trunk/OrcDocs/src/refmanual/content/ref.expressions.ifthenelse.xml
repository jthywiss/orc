<?xml version="1.0" encoding="UTF-8"?>
<!-- ref.expressions.ifthenelse.xml - DocBook source for an Orc reference manual section

     $Id$

     Copyright (c) 2010 The University of Texas at Austin. All rights reserved.

     Use and redistribution of this file is governed by the license terms in
     the LICENSE file found in the project's top-level directory and also found at
     URL: http://orc.csres.utexas.edu/license.shtml .
  -->

<!-- IfThenElse -->
	<section xml:id="ref.expressions.ifthenelse">
		<title><code>if then else</code></title>
		<section xml:id="ref.expressions.ifthenelse.body">
			<para>
A conditional expression in Orc is of the form 
<code>if</code> <code><![CDATA[E]]></code> <code>then</code> <code><![CDATA[F]]></code> <code>else</code> <code><![CDATA[G]]></code>. 
Its meaning is similar to that in other languages: the value
of the expression is the value of <code><![CDATA[F]]></code> if and only if <code><![CDATA[E]]></code> evaluates to <code>true</code>, 
or the value of <code><![CDATA[G]]></code> if and only if <code><![CDATA[E]]></code> evaluates to <code>false</code>. 
Note that <code><![CDATA[G]]></code> is not evaluated at all if <code><![CDATA[E]]></code> evaluates to <code>true</code>, 
and similarly <code><![CDATA[F]]></code> is not evaluated
at all if <code><![CDATA[E]]></code> evaluates to <code>false</code>. Thus, for example, evaluation of 
<code>if true then 2+3 else 1/0</code> does not evaluate <code>1/0</code>;
it only evaluates <code>2+3</code>.
</para>

<para>
If <code><![CDATA[E]]></code> is
<link linkend="ref.concepts.silent">silent</link>, then the entire expression is <link linkend="ref.concepts.silent">silent</link>. And if <code><![CDATA[E]]></code> evaluates to <code>true</code> 
but <code><![CDATA[F]]></code> is <link linkend="ref.concepts.silent">silent</link> (or if <code><![CDATA[E]]></code> evaluates to <code>false</code> and <code><![CDATA[G]]></code> is silent) then the 
expression is <link linkend="ref.concepts.silent">silent</link>.
</para>

<para>
Conditionals have lower precedence than any of the operators.
For example, <code>if false then 1 else 2 + 3</code> is equivalent to
<code>if false then 1 else (2 + 3)</code>, not <code>(if false then 1 else 2) + 3</code>.
</para>

<para>
The behavior of conditionals is summarized by the following table
(<emphasis>v</emphasis> denotes a value).

<informaltable xml:id="cond-table" frame="none" rowsep="0" colsep="0"> 
<?dbhtml table-width="60%" ?>
<?dbfo table-width="80%" ?>
<?dbfo keep-together="always" ?>
<tgroup cols="4" >
<colspec colnum="1" colname="E" colwidth="1*" align="center"/>
<colspec colnum="2" colname="F" colwidth="1*" align="center"/>
<colspec colnum="3" colname="G" colwidth="1*" align="center"/>
<colspec colnum="4" colname="result" colwidth="3*" align="center"/>
<thead>
<row>
<entry>E</entry>
<entry>F</entry>
<entry>G</entry>
<entry><code>if</code> E <code>then</code> F <code>else</code> G</entry>
</row>
</thead>
<tbody>

<row>
<entry><code>true</code></entry>
<entry><emphasis>v</emphasis></entry>
<entry>-</entry>
<entry><emphasis>v</emphasis></entry>
</row>

<row>
<entry><code>true</code></entry>
<entry>silent</entry>
<entry>-</entry>
<entry>silent</entry>
</row>

<row>
<entry><code>false</code></entry>
<entry>-</entry>
<entry><emphasis>v</emphasis></entry>
<entry><emphasis>v</emphasis></entry>
</row>

<row>
<entry><code>false</code></entry>
<entry>-</entry>
<entry>silent</entry>
<entry>silent</entry>
</row>

<row>
<entry>silent</entry>
<entry>-</entry>
<entry>-</entry>
<entry>silent</entry>
</row>

</tbody>
</tgroup>
</informaltable>

</para>

<para>
<itemizedlist><title>Examples</title>
<listitem><code>if true then 4 else 5</code> evaluates to <code>4</code>.</listitem>
<listitem><code><![CDATA[if  2 < 3 && 5 < 4  then "blue" else "green"]]></code> evaluates to "green".</listitem>
<listitem><code>if  true || "fish"  then "yes" else "no"</code> is <link linkend="ref.concepts.silent">silent</link>.</listitem>
<listitem><code>if  false || false  then 4+5 else 4+true</code> is <link linkend="ref.concepts.silent">silent</link>.</listitem>
<listitem><code><![CDATA[if 0 < 5 then 0/5 else 5/0]]></code> evaluates to 0.</listitem>
</itemizedlist>
</para>
		</section>
		
		<section xml:id="ref.expressions.ifthenelse.links">
		  <title>Related Links</title>
		  
		  <informaltable frame="none">
	  		<tgroup cols="1" align="left">
	    	<thead>
	      		<row>
	        		<entry align="center">Related Reference Topics</entry>
	        	</row>
	    	</thead>
	    	<tbody valign="top">
	     		<row>
	        		<entry><itemizedlist>
	          			<listitem><link linkend="ref.data.boolean">Booleans</link></listitem>
	        		</itemizedlist></entry>
	        	</row>
	    	</tbody>
	  		</tgroup>
		  </informaltable>
		  
		  <informaltable frame="none">
	  		<tgroup cols="1" align="left">
	    	<thead>
	      		<row>
	        		<entry align="left">Related Tutorial Sections</entry>
	        	</row>
	    	</thead>
	    	<tbody valign="top">
	     		<row>
	        		<entry><itemizedlist>
          				<listitem><para><olink targetdoc="userguide" targetptr="cor">Cor</olink></para></listitem>
        			</itemizedlist></entry>
	        	</row>
	    	</tbody>
	  		</tgroup>
		  </informaltable>
		  
	  </section>
	</section>
