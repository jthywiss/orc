<?xml version="1.0" encoding="UTF-8"?>
<!-- ref.syntax.precedence.xml - DocBook source for an Orc reference manual section

     $Id$

     Copyright (c) 2011 The University of Texas at Austin. All rights reserved.

     Use and redistribution of this file is governed by the license terms in
     the LICENSE file found in the project's top-level directory and also found at
     URL: http://orc.csres.utexas.edu/license.shtml .
  -->

<section xml:id="ref.syntax.precedence">
	<title>Precedence, Fixity, and Associativity</title>
	
	<!-- Index pointers for unwritten terms -->
	<indexterm><primary>associativity</primary></indexterm>
	<indexterm><primary>fixity</primary></indexterm>
	<indexterm><primary>precedence</primary></indexterm>
	<indexterm><primary>operator</primary></indexterm>

<para>
The following table represents the precedence, fixity, and associativity of combinators and operators in Orc.
</para>

<para>
<indexterm significance="preferred"><primary>precedence</primary></indexterm><firstterm baseform="precedence">Precedence</firstterm> rules specify the order in which parts of an expression are parsed, in absence of parenthesis.
For example, in <code>1 + 2 * 3</code>, Orc's precedence rules prescribe that the multiplication be parsed as a sub-expression of the addition.
Operations or combinators listed in the table below with higher precedence will be parsed in preference to lower precedence operations or combinators.
</para>

<para>
<indexterm significance="preferred"><primary>fixity</primary></indexterm><firstterm baseform="fixity">Fixity</firstterm> specifies the relative position of an operator and it operands.
For example, <code>+</code> is infix, so the <code>+</code> operator is written in between its operands.
However, <code>?</code> is postfix, so it is written after its operand.
</para>

<para>
<indexterm significance="preferred"><primary>associativity</primary></indexterm><firstterm baseform="associativity">Associativity</firstterm> specifies the grouping of a series of infix operator (or combinator) expressions, in absence of parenthesis.
For example, division is left associative, so <code>40 / 4 / 2</code> is grouped as <code>(40 / 4) / 2</code> which is 5. It is not <code>40 / (4 / 2)</code> = 20.
Similarly, the sequential combinator is right associative, so <code>e >x> f >y> g</code> is equivalent to <code>e >x> (f >y> g)</code>.
</para>

	<table frame="all">
		<title>Orc Combinator/Operator Precedence, Fixity, and Associativity</title>
		<tgroup cols="5" align="center">
			<thead>
				<row>
					<entry><emphasis>Precedence Level</emphasis></entry>
					<entry><emphasis>Name</emphasis></entry>
					<entry><emphasis>Symbol</emphasis></entry>
					<entry><emphasis>Fixity</emphasis></entry>
					<entry><emphasis>Associativity</emphasis></entry>
				</row>
			</thead>
			<tbody>
				<row>
					<entry>12</entry>
					<entry>Dereference</entry>
					<entry><code><![CDATA[ ? ]]></code></entry>
					<entry>Postfix</entry>
					<entry>--</entry>
				</row>
				<row>
					<entry morerows="1">11</entry>
					<entry>Arithmetic Negation</entry>
					<entry><code><![CDATA[ - ]]></code></entry>
					<entry>Prefix</entry>
					<entry>--</entry>
				</row>
				<row>
					<!-- Level 11 -->
					<entry>Negation (Logical Complement)</entry>
					<entry><code><![CDATA[ ~ ]]></code></entry>
					<entry>Prefix</entry>
					<entry>--</entry>
				</row>
				<row>
					<entry>10</entry>
					<entry>Exponentiation</entry>
					<entry><code><![CDATA[ ** ]]></code></entry>
					<entry>Infix</entry>
					<entry>Right</entry>
				</row>
				<row>
					<entry morerows="2">9</entry>
					<entry>Multiplication</entry>
					<entry><code><![CDATA[ * ]]></code></entry>
					<entry>Infix</entry>
					<entry>Left</entry>
				</row>
				<row>
					<!-- Level 9 -->
					<entry>Division</entry>
					<entry><code><![CDATA[ / ]]></code></entry>
					<entry>Infix</entry>
					<entry>Left</entry>
				</row>
				<row>
					<!-- Level 9 -->
					<entry>Modulus</entry>
					<entry><code><![CDATA[ % ]]></code></entry>
					<entry>Infix</entry>
					<entry>Left</entry>
				</row>
				<row>
					<entry morerows="1">8</entry>
					<entry>Addition/Concatenation</entry>
					<entry><code><![CDATA[ + ]]></code></entry>
					<entry>Infix</entry>
					<entry>Left</entry>
				</row>
				<row>
					<!-- Level 8 -->
					<entry>Subtraction</entry>
					<entry><code><![CDATA[ - ]]></code></entry>
					<entry>Infix</entry>
					<entry>Left</entry>
				</row>
				<row>
					<entry>7</entry>
					<entry>List Construction</entry>
					<entry><code><![CDATA[ : ]]></code></entry>
					<entry>Infix</entry>
					<entry>Right</entry>
				</row>
				<row>
					<entry morerows="5">6</entry>
					<entry>Equal To</entry>
					<entry><code><![CDATA[ = ]]></code></entry>
					<entry>Infix</entry>
					<entry>None</entry>
				</row>
				<row>
					<!-- Level 6 -->
					<entry>Not Equal To</entry>
					<entry><code><![CDATA[ /= ]]></code></entry>
					<entry>Infix</entry>
					<entry>None</entry>
				</row>
				<row>
					<!-- Level 6 -->
					<entry>Less Than</entry>
					<entry><code><![CDATA[ <: ]]></code></entry>
					<entry>Infix</entry>
					<entry>None</entry>
				</row>
				<row>
					<!-- Level 6 -->
					<entry>Greater Than</entry>
					<entry><code><![CDATA[ :> ]]></code></entry>
					<entry>Infix</entry>
					<entry>None</entry>
				</row>
				<row>
					<!-- Level 6 -->
					<entry>Less Than or Equal To</entry>
					<entry><code><![CDATA[ <= ]]></code></entry>
					<entry>Infix</entry>
					<entry>None</entry>
				</row>
				<row>
					<!-- Level 6 -->
					<entry>Greater Than or Equal To</entry>
					<entry><code><![CDATA[ >= ]]></code></entry>
					<entry>Infix</entry>
					<entry>None</entry>
				</row>
				<row>
					<entry morerows="1">5</entry>
					<entry>Logical OR</entry>
					<entry><code><![CDATA[ || ]]></code></entry>
					<entry>Infix</entry>
					<entry>Left</entry>
				</row>
				<row>
					<!-- Level 5 -->
					<entry>Logical AND</entry>
					<entry><code><![CDATA[ && ]]></code></entry>
					<entry>Infix</entry>
					<entry>Left</entry>
				</row>
				<row>
					<entry>4</entry>
					<entry>Assignment</entry>
					<entry><code><![CDATA[ := ]]></code></entry>
					<entry>Infix</entry>
					<entry>None</entry>
				</row>
				<row>
					<entry>3</entry>
					<entry>Sequential</entry>
					<entry><code><![CDATA[ >]]></code><replaceable>P</replaceable><code><![CDATA[> ]]></code></entry>
					<entry>Infix</entry>
					<entry>Right</entry>
				</row>
				<row>
					<entry>2</entry>
					<entry>Parallel</entry>
					<entry><code><![CDATA[ | ]]></code></entry>
					<entry>Infix</entry>
					<entry>Left</entry>
				</row>
				<row>
					<entry>1</entry>
					<entry>Pruning</entry>
					<entry><code><![CDATA[ <]]></code><replaceable>P</replaceable><code><![CDATA[< ]]></code></entry>
					<entry>Infix</entry>
					<entry>Left</entry>
				</row>
				<row>
					<entry>0</entry>
					<entry>Otherwise</entry>
					<entry><code><![CDATA[ ; ]]></code></entry>
					<entry>Infix</entry>
					<entry>Left</entry>
				</row>
			</tbody>
		</tgroup>
	</table>


	<section xml:id="ref.syntax.precedence.links">
		<title>Related Links</title>

		<informaltable frame="none">
			<tgroup cols="1" align="left">
				<thead>
					<row>
						<entry align="left">Related Reference Topics</entry>
					</row>
				</thead>
				<tbody valign="top">
					<row>
						<entry><itemizedlist>
							<listitem><para><link linkend="ref.expressions.operators">Operators</link></para></listitem>
							<listitem><para><link linkend="ref.combinators">Combinators</link></para></listitem>
						</itemizedlist></entry>
					</row>
				</tbody>
			</tgroup>
		</informaltable>

		<informaltable frame="none">
			<tgroup cols="1" align="left">
				<thead>
					<row>
						<entry align="left">Related Tutorial Sections</entry>
					</row>
				</thead>
				<tbody valign="top">
					<row>
						<entry><itemizedlist>
							<listitem><para><olink targetdoc="userguide" targetptr="language.base.operators">Operators</olink></para></listitem>
						</itemizedlist></entry>
					</row>
				</tbody>
			</tgroup>
		</informaltable>

	</section>
</section>
